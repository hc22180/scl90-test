<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCL-90 å¿ƒç†å¥åº·è‡ªè¯„é‡è¡¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #5f72bd 0%, #9b59b6 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .header p {
            font-size: 14px;
            opacity: 0.95;
            line-height: 1.6;
        }

        .content {
            padding: 30px;
        }

        .intro-section {
            background: #f8f9ff;
            border-left: 4px solid #667eea;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .intro-section h3 {
            color: #667eea;
            margin-bottom: 12px;
            font-size: 18px;
        }

        .intro-section p {
            color: #555;
            line-height: 1.8;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .intro-section ul {
            margin-left: 20px;
            color: #666;
            line-height: 1.8;
        }

        .question-card {
            background: white;
            border: 2px solid #e8e8e8;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .question-card:hover {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);
        }

        .question-header {
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .question-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
            flex-shrink: 0;
            margin-right: 15px;
        }

        .question-text {
            color: #2c3e50;
            font-size: 16px;
            line-height: 1.6;
            flex: 1;
            padding-top: 6px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 14px 18px;
            border: 2px solid #e8e8e8;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #f8f9ff, #f0f2ff);
        }

        .option input[type="radio"] {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            cursor: pointer;
            accent-color: #667eea;
        }

        .option-label {
            color: #2c3e50;
            font-size: 15px;
            cursor: pointer;
            flex: 1;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 15px;
        }

        .navigation-single {
            display: flex;
            justify-content: center;
            margin-top: 30px;
        }

        .auto-next-hint {
            text-align: center;
            color: #667eea;
            font-size: 14px;
            margin-top: 20px;
            padding: 12px;
            background: #f8f9ff;
            border-radius: 8px;
            border: 1px dashed #667eea;
        }

        .btn {
            padding: 14px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #666;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .progress-bar {
            background: #f0f0f0;
            height: 8px;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
            border-radius: 10px;
        }

        .progress-text {
            text-align: center;
            color: #666;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .result-section {
            padding: 30px;
        }

        .result-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .result-header h2 {
            color: #2c3e50;
            font-size: 26px;
            margin-bottom: 10px;
        }

        .result-header p {
            color: #666;
            font-size: 14px;
        }

        .score-summary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 30px;
        }

        .score-summary h3 {
            font-size: 20px;
            margin-bottom: 20px;
        }

        .score-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .score-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
        }

        .score-item label {
            font-size: 13px;
            opacity: 0.9;
            display: block;
            margin-bottom: 5px;
        }

        .score-item value {
            font-size: 24px;
            font-weight: 700;
            display: block;
        }

        .factor-result {
            background: white;
            border: 2px solid #e8e8e8;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .factor-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .factor-name {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
        }

        .factor-score {
            font-size: 20px;
            font-weight: 700;
            padding: 6px 15px;
            border-radius: 20px;
        }

        .status-normal {
            background: #d4edda;
            color: #155724;
        }

        .status-mild {
            background: #fff3cd;
            color: #856404;
        }

        .status-moderate {
            background: #ffe5d0;
            color: #d84315;
        }

        .status-severe {
            background: #f8d7da;
            color: #721c24;
        }

        .factor-description {
            color: #666;
            line-height: 1.8;
            margin-bottom: 12px;
            font-size: 14px;
        }

        .factor-suggestion {
            background: #f8f9ff;
            border-left: 3px solid #667eea;
            padding: 12px 15px;
            border-radius: 6px;
            margin-top: 12px;
        }

        .factor-suggestion strong {
            color: #667eea;
            display: block;
            margin-bottom: 6px;
            font-size: 14px;
        }

        .factor-suggestion p {
            color: #555;
            font-size: 13px;
            line-height: 1.7;
        }

        .warning-box {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 20px;
            margin: 30px 0;
        }

        .warning-box h4 {
            color: #856404;
            margin-bottom: 12px;
            font-size: 16px;
        }

        .warning-box ul {
            margin-left: 20px;
            color: #856404;
            line-height: 1.8;
        }

        .disclaimer {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
            font-size: 13px;
            color: #666;
            line-height: 1.8;
            text-align: center;
        }

        .restart-btn {
            display: block;
            margin: 30px auto 0;
            width: 200px;
        }

        @media (max-width: 768px) {
            .score-grid {
                grid-template-columns: 1fr;
            }
            
            .navigation {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>SCL-90 å¿ƒç†å¥åº·è‡ªè¯„é‡è¡¨</h1>
            <p>Symptom Checklist 90 - å®Œæ•´ç‰ˆå¿ƒç†å¥åº·ç­›æŸ¥å·¥å…·</p>
        </div>

        <div class="content" id="content">
            <!-- ä»‹ç»é¡µé¢ -->
            <div id="intro-page">
                <div class="intro-section">
                    <h3>ğŸ“‹ å…³äºæœ¬æµ‹è¯„</h3>
                    <p><strong>SCL-90ç—‡çŠ¶è‡ªè¯„é‡è¡¨</strong>æ˜¯ç›®å‰å›½é™…ä¸Šä½¿ç”¨æœ€å¹¿æ³›çš„å¿ƒç†å¥åº·ç­›æŸ¥å·¥å…·ä¹‹ä¸€,ç”±Derogatisäº1975å¹´ç¼–åˆ¶ã€‚è¯¥é‡è¡¨åŒ…å«90ä¸ªé¡¹ç›®,ä»å¤šä¸ªç»´åº¦å…¨é¢è¯„ä¼°ä¸ªä½“çš„å¿ƒç†ç—‡çŠ¶å’Œä¸é€‚æ„Ÿã€‚</p>
                </div>

                <div class="intro-section">
                    <h3>ğŸ¯ æµ‹è¯„ç›®çš„</h3>
                    <p>æœ¬æµ‹è¯„å¯ä»¥å¸®åŠ©æ‚¨:</p>
                    <ul>
                        <li>äº†è§£è¿‘æœŸçš„å¿ƒç†å¥åº·çŠ¶å†µ</li>
                        <li>è¯†åˆ«å¯èƒ½å­˜åœ¨çš„å¿ƒç†å‹åŠ›æº</li>
                        <li>è¯„ä¼°10ä¸ªç»´åº¦çš„å¿ƒç†ç—‡çŠ¶æ°´å¹³</li>
                        <li>è·å¾—åˆæ­¥çš„å¿ƒç†å¥åº·æŒ‡å¯¼å»ºè®®</li>
                    </ul>
                </div>

                <div class="intro-section">
                    <h3>â±ï¸ æµ‹è¯„è¯´æ˜</h3>
                    <p><strong>è¯„åˆ†æ ‡å‡†:</strong></p>
                    <ul>
                        <li><strong>0åˆ† (ä»æ— )</strong> - æ²¡æœ‰æˆ–å¾ˆå°‘å‡ºç°è¯¥ç—‡çŠ¶</li>
                        <li><strong>1åˆ† (è½»åº¦)</strong> - å¶å°”å‡ºç°,ç—‡çŠ¶è¾ƒè½»</li>
                        <li><strong>2åˆ† (ä¸­åº¦)</strong> - æœ‰æ—¶å‡ºç°,ç—‡çŠ¶æ˜æ˜¾</li>
                        <li><strong>3åˆ† (è¾ƒé‡)</strong> - ç»å¸¸å‡ºç°,ç—‡çŠ¶ä¸¥é‡</li>
                        <li><strong>4åˆ† (ä¸¥é‡)</strong> - æŒç»­å‡ºç°,ç—‡çŠ¶æå…¶ä¸¥é‡</li>
                    </ul>
                    <p style="margin-top: 15px;"><strong>è¯„ä¼°æ—¶æ®µ:</strong>è¯·æ ¹æ®<span style="color: #667eea; font-weight: 600;">æœ€è¿‘ä¸€å‘¨(åŒ…æ‹¬ä»Šå¤©)</span>çš„å®é™…æ„Ÿå—ä½œç­”ã€‚</p>
                    <p><strong>é¢„è®¡ç”¨æ—¶:</strong>çº¦ 10-15 åˆ†é’Ÿ</p>
                </div>

                <div class="warning-box">
                    <h4>âš ï¸ é‡è¦æç¤º</h4>
                    <ul>
                        <li>è¯·åœ¨å®‰é™ã€æ”¾æ¾çš„ç¯å¢ƒä¸­å®Œæˆæµ‹è¯„</li>
                        <li>è¯·æ ¹æ®çœŸå®æ„Ÿå—ä½œç­”,ä¸å¿…è¿‡åº¦æ€è€ƒ</li>
                        <li>æœ¬æµ‹è¯„ä»…ä¾›å¿ƒç†å¥åº·ç­›æŸ¥å‚è€ƒ,ä¸èƒ½æ›¿ä»£ä¸“ä¸šè¯Šæ–­</li>
                        <li>å¦‚æœ‰ä¸¥é‡å¿ƒç†å›°æ‰°,è¯·åŠæ—¶å¯»æ±‚ä¸“ä¸šå¿ƒç†å’¨è¯¢æˆ–åŒ»ç–—å¸®åŠ©</li>
                    </ul>
                </div>

                <button class="btn btn-primary" onclick="startTest()" style="width: 100%; margin-top: 20px;">
                    å¼€å§‹æµ‹è¯„ â†’
                </button>
            </div>

            <!-- æµ‹è¯„é¡µé¢ -->
            <div id="test-page" style="display: none;">
                <div class="progress-text">
                    <span id="progress-text">ç¬¬ 1 / 90 é¢˜</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 1.11%"></div>
                </div>

                <div id="question-container"></div>

                <div class="auto-next-hint" id="auto-hint">
                    ğŸ’¡ æç¤º: é€‰æ‹©ç­”æ¡ˆåå°†è‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€é¢˜,æ‚¨ä¹Ÿå¯ä»¥éšæ—¶ç‚¹å‡»"ä¸Šä¸€é¢˜"è¿”å›ä¿®æ”¹
                </div>

                <div class="navigation-single">
                    <button class="btn btn-secondary" id="prev-btn" onclick="prevQuestion()" disabled style="width: 200px;">
                        â† ä¸Šä¸€é¢˜
                    </button>
                </div>
                
                <div class="navigation" id="submit-container" style="display: none;">
                    <button class="btn btn-primary" id="submit-btn" onclick="showResults()" style="width: 100%;">
                        æŸ¥çœ‹ç»“æœ âœ“
                    </button>
                </div>
            </div>

            <!-- ç»“æœé¡µé¢ -->
            <div id="result-page" style="display: none;"></div>
        </div>
    </div>

    <script>
        // æµ‹è¯„é¢˜ç›®æ•°æ®
        const questions = [
            // èº¯ä½“åŒ– (1-12)
            {id: 1, text: "å¤´ç—›", factor: "èº¯ä½“åŒ–"},
            {id: 2, text: "ç¥ç»è¿‡æ•,å¿ƒä¸­ä¸è¸å®", factor: "èº¯ä½“åŒ–"},
            {id: 3, text: "å¤´è„‘ä¸­æœ‰ä¸å¿…è¦çš„æƒ³æ³•æˆ–å­—å¥ç›˜æ—‹", factor: "å¼ºè¿«ç—‡çŠ¶"},
            {id: 4, text: "å¤´æ˜æˆ–æ˜å€’", factor: "èº¯ä½“åŒ–"},
            {id: 5, text: "å¯¹å¼‚æ€§çš„å…´è¶£å‡é€€", factor: "å…¶ä»–"},
            {id: 6, text: "å¯¹æ—äººè´£å¤‡æ±‚å…¨", factor: "äººé™…å…³ç³»æ•æ„Ÿ"},
            {id: 7, text: "æ„Ÿåˆ°åˆ«äººèƒ½æ§åˆ¶æ‚¨çš„æ€æƒ³", factor: "ç²¾ç¥ç—…æ€§"},
            {id: 8, text: "è´£æ€ªåˆ«äººåˆ¶é€ éº»çƒ¦", factor: "åæ‰§"},
            {id: 9, text: "å¿˜è®°æ€§å¤§", factor: "å…¶ä»–"},
            {id: 10, text: "æ‹…å¿ƒè‡ªå·±çš„è¡£é¥°æ•´é½åŠä»ªæ€ç«¯æ­£", factor: "å¼ºè¿«ç—‡çŠ¶"},
            {id: 11, text: "å®¹æ˜“çƒ¦æ¼å’Œæ¿€æ€’", factor: "æ•Œå¯¹"},
            {id: 12, text: "èƒ¸ç—›", factor: "èº¯ä½“åŒ–"},
            {id: 13, text: "å®³æ€•ç©ºæ—·çš„åœºæ‰€æˆ–è¡—é“", factor: "ææ€–"},
            {id: 14, text: "æ„Ÿåˆ°è‡ªå·±çš„ç²¾åŠ›ä¸‹é™,æ´»åŠ¨å‡æ…¢", factor: "æŠ‘éƒ"},
            {id: 15, text: "æƒ³ç»“æŸè‡ªå·±çš„ç”Ÿå‘½", factor: "æŠ‘éƒ"},
            {id: 16, text: "å¬åˆ°æ—äººå¬ä¸åˆ°çš„å£°éŸ³", factor: "ç²¾ç¥ç—…æ€§"},
            {id: 17, text: "å‘æŠ–", factor: "ç„¦è™‘"},
            {id: 18, text: "æ„Ÿåˆ°å¤§å¤šæ•°äººéƒ½ä¸å¯ä¿¡ä»»", factor: "åæ‰§"},
            {id: 19, text: "èƒƒå£ä¸å¥½", factor: "å…¶ä»–"},
            {id: 20, text: "å®¹æ˜“å“­æ³£", factor: "æŠ‘éƒ"},
            {id: 21, text: "åŒå¼‚æ€§ç›¸å¤„æ—¶æ„Ÿåˆ°å®³ç¾ä¸è‡ªåœ¨", factor: "äººé™…å…³ç³»æ•æ„Ÿ"},
            {id: 22, text: "æ„Ÿåˆ°å—éª—,ä¸­äº†åœˆå¥—æˆ–æœ‰äººæƒ³æŠ“æ‚¨", factor: "åæ‰§"},
            {id: 23, text: "æ— ç¼˜æ— æ•…åœ°çªç„¶æ„Ÿåˆ°å®³æ€•", factor: "ææ€–"},
            {id: 24, text: "è‡ªå·±ä¸èƒ½æ§åˆ¶åœ°å¤§å‘è„¾æ°”", factor: "æ•Œå¯¹"},
            {id: 25, text: "æ€•å•ç‹¬å‡ºé—¨", factor: "ææ€–"},
            {id: 26, text: "ç»å¸¸è´£æ€ªè‡ªå·±", factor: "æŠ‘éƒ"},
            {id: 27, text: "è…°ç—›", factor: "èº¯ä½“åŒ–"},
            {id: 28, text: "æ„Ÿåˆ°éš¾ä»¥å®Œæˆä»»åŠ¡", factor: "å¼ºè¿«ç—‡çŠ¶"},
            {id: 29, text: "æ„Ÿåˆ°å­¤ç‹¬", factor: "äººé™…å…³ç³»æ•æ„Ÿ"},
            {id: 30, text: "æ„Ÿåˆ°è‹¦é—·", factor: "æŠ‘éƒ"},
            {id: 31, text: "è¿‡åˆ†æ‹…å¿§", factor: "ç„¦è™‘"},
            {id: 32, text: "å¯¹äº‹ç‰©ä¸æ„Ÿå…´è¶£", factor: "æŠ‘éƒ"},
            {id: 33, text: "æ„Ÿåˆ°å®³æ€•", factor: "ç„¦è™‘"},
            {id: 34, text: "æ‚¨çš„æ„Ÿæƒ…å®¹æ˜“å—åˆ°ä¼¤å®³", factor: "äººé™…å…³ç³»æ•æ„Ÿ"},
            {id: 35, text: "æ—äººèƒ½çŸ¥é“æ‚¨çš„ç§ä¸‹æƒ³æ³•", factor: "ç²¾ç¥ç—…æ€§"},
            {id: 36, text: "æ„Ÿåˆ°åˆ«äººä¸ç†è§£æ‚¨æˆ–ä¸åŒæƒ…æ‚¨", factor: "äººé™…å…³ç³»æ•æ„Ÿ"},
            {id: 37, text: "æ„Ÿåˆ°äººä»¬å¯¹æ‚¨ä¸å‹å¥½,ä¸å–œæ¬¢æ‚¨", factor: "äººé™…å…³ç³»æ•æ„Ÿ"},
            {id: 38, text: "åšäº‹å¿…é¡»åšå¾—å¾ˆæ…¢ä»¥ä¿è¯åšå¾—æ­£ç¡®", factor: "å¼ºè¿«ç—‡çŠ¶"},
            {id: 39, text: "å¿ƒè·³å¾—å¾ˆå‰å®³", factor: "ç„¦è™‘"},
            {id: 40, text: "æ¶å¿ƒæˆ–èƒƒéƒ¨ä¸èˆ’æœ", factor: "èº¯ä½“åŒ–"},
            {id: 41, text: "æ„Ÿåˆ°æ¯”ä¸ä¸Šä»–äºº", factor: "äººé™…å…³ç³»æ•æ„Ÿ"},
            {id: 42, text: "è‚Œè‚‰é…¸ç—›", factor: "èº¯ä½“åŒ–"},
            {id: 43, text: "æ„Ÿåˆ°æœ‰äººåœ¨ç›‘è§†æ‚¨ã€è°ˆè®ºæ‚¨", factor: "åæ‰§"},
            {id: 44, text: "éš¾ä»¥å…¥ç¡", factor: "å…¶ä»–"},
            {id: 45, text: "åšäº‹å¿…é¡»åå¤æ£€æŸ¥", factor: "å¼ºè¿«ç—‡çŠ¶"},
            {id: 46, text: "éš¾ä»¥åšå‡ºå†³å®š", factor: "å¼ºè¿«ç—‡çŠ¶"},
            {id: 47, text: "æ€•ä¹˜ç”µè½¦ã€å…¬å…±æ±½è½¦ã€åœ°é“æˆ–ç«è½¦", factor: "ææ€–"},
            {id: 48, text: "å‘¼å¸æœ‰å›°éš¾", factor: "èº¯ä½“åŒ–"},
            {id: 49, text: "ä¸€é˜µé˜µå‘å†·æˆ–å‘çƒ­", factor: "èº¯ä½“åŒ–"},
            {id: 50, text: "å› ä¸ºæ„Ÿåˆ°å®³æ€•è€Œé¿å¼€æŸäº›ä¸œè¥¿ã€åœºåˆæˆ–æ´»åŠ¨", factor: "ææ€–"},
            {id: 51, text: "è„‘å­å˜ç©ºäº†", factor: "ç²¾ç¥ç—…æ€§"},
            {id: 52, text: "èº«ä½“å‘éº»æˆ–åˆºç—›", factor: "èº¯ä½“åŒ–"},
            {id: 53, text: "å–‰å’™æœ‰æ¢—å¡æ„Ÿ", factor: "èº¯ä½“åŒ–"},
            {id: 54, text: "æ„Ÿåˆ°å‰é€”æ²¡æœ‰å¸Œæœ›", factor: "æŠ‘éƒ"},
            {id: 55, text: "ä¸èƒ½é›†ä¸­æ³¨æ„åŠ›", factor: "å…¶ä»–"},
            {id: 56, text: "èº«ä½“çš„æŸä¸€éƒ¨åˆ†æ„Ÿåˆ°è½¯å¼±æ— åŠ›", factor: "èº¯ä½“åŒ–"},
            {id: 57, text: "æ„Ÿåˆ°ç´§å¼ æˆ–å®¹æ˜“ç´§å¼ ", factor: "ç„¦è™‘"},
            {id: 58, text: "æ„Ÿåˆ°æ‰‹æˆ–è„šå‘é‡", factor: "èº¯ä½“åŒ–"},
            {id: 59, text: "æƒ³åˆ°æ­»äº¡çš„äº‹", factor: "æŠ‘éƒ"},
            {id: 60, text: "åƒå¾—å¤ªå¤š", factor: "å…¶ä»–"},
            {id: 61, text: "å½“åˆ«äººçœ‹ç€æ‚¨æˆ–è°ˆè®ºæ‚¨æ—¶æ„Ÿåˆ°ä¸è‡ªåœ¨", factor: "äººé™…å…³ç³»æ•æ„Ÿ"},
            {id: 62, text: "æœ‰ä¸€äº›ä¸å±äºæ‚¨è‡ªå·±çš„æƒ³æ³•", factor: "ç²¾ç¥ç—…æ€§"},
            {id: 63, text: "æœ‰æƒ³æ‰“äººæˆ–ä¼¤å®³ä»–äººçš„å†²åŠ¨", factor: "æ•Œå¯¹"},
            {id: 64, text: "é†’å¾—å¤ªæ—©", factor: "å…¶ä»–"},
            {id: 65, text: "å¿…é¡»åå¤æ´—æ‰‹ã€ç‚¹æ•°æˆ–è§¦æ‘¸æŸäº›ä¸œè¥¿", factor: "å¼ºè¿«ç—‡çŠ¶"},
            {id: 66, text: "ç¡å¾—ä¸ç¨³ä¸æ·±", factor: "å…¶ä»–"},
            {id: 67, text: "æœ‰æƒ³æ‘”åæˆ–ç ´åä¸œè¥¿çš„å†²åŠ¨", factor: "æ•Œå¯¹"},
            {id: 68, text: "æœ‰ä¸€äº›åˆ«äººæ²¡æœ‰çš„æƒ³æ³•æˆ–å¿µå¤´", factor: "åæ‰§"},
            {id: 69, text: "æ„Ÿåˆ°å¯¹åˆ«äººç¥ç»è¿‡æ•", factor: "äººé™…å…³ç³»æ•æ„Ÿ"},
            {id: 70, text: "åœ¨å•†åº—æˆ–ç”µå½±é™¢ç­‰äººå¤šçš„åœ°æ–¹æ„Ÿåˆ°ä¸è‡ªåœ¨", factor: "ææ€–"},
            {id: 71, text: "æ„Ÿåˆ°ä»»ä½•äº‹æƒ…éƒ½å¾ˆå›°éš¾", factor: "æŠ‘éƒ"},
            {id: 72, text: "ä¸€é˜µé˜µææƒ§æˆ–æƒŠæ", factor: "ç„¦è™‘"},
            {id: 73, text: "æ„Ÿåˆ°åœ¨å…¬å…±åœºåˆåƒä¸œè¥¿å¾ˆä¸èˆ’æœ", factor: "ææ€–"},
            {id: 74, text: "ç»å¸¸ä¸äººäº‰è®º", factor: "æ•Œå¯¹"},
            {id: 75, text: "å•ç‹¬ä¸€äººæ—¶ç¥ç»å¾ˆç´§å¼ ", factor: "ææ€–"},
            {id: 76, text: "åˆ«äººå¯¹æ‚¨çš„æˆå°±æ²¡æœ‰åšå‡ºæ°å½“çš„è¯„ä»·", factor: "åæ‰§"},
            {id: 77, text: "å³ä½¿å’Œåˆ«äººåœ¨ä¸€èµ·ä¹Ÿæ„Ÿåˆ°å­¤å•", factor: "äººé™…å…³ç³»æ•æ„Ÿ"},
            {id: 78, text: "æ„Ÿåˆ°åç«‹ä¸å®‰å¿ƒç¥ä¸å®š", factor: "ç„¦è™‘"},
            {id: 79, text: "æ„Ÿåˆ°è‡ªå·±æ²¡æœ‰ä»€ä¹ˆä»·å€¼", factor: "æŠ‘éƒ"},
            {id: 80, text: "æ„Ÿåˆ°ç†Ÿæ‚‰çš„ä¸œè¥¿å˜æˆé™Œç”Ÿæˆ–ä¸çœŸå®", factor: "ç²¾ç¥ç—…æ€§"},
            {id: 81, text: "å¤§å«æˆ–æ‘”ä¸œè¥¿", factor: "æ•Œå¯¹"},
            {id: 82, text: "å®³æ€•ä¼šåœ¨å…¬å…±åœºåˆæ˜å€’", factor: "ææ€–"},
            {id: 83, text: "æ„Ÿåˆ°åˆ«äººæƒ³å æ‚¨çš„ä¾¿å®œ", factor: "åæ‰§"},
            {id: 84, text: "ä¸ºä¸€äº›æœ‰å…³æ€§çš„æƒ³æ³•è€Œå¾ˆè‹¦æ¼", factor: "ç²¾ç¥ç—…æ€§"},
            {id: 85, text: "æ‚¨è®¤ä¸ºåº”è¯¥å› ä¸ºè‡ªå·±çš„è¿‡é”™è€Œå—åˆ°æƒ©ç½š", factor: "ç²¾ç¥ç—…æ€§"},
            {id: 86, text: "æ„Ÿåˆ°è¦èµ¶å¿«æŠŠäº‹æƒ…åšå®Œ", factor: "å¼ºè¿«ç—‡çŠ¶"},
            {id: 87, text: "æ„Ÿåˆ°è‡ªå·±çš„èº«ä½“æœ‰ä¸¥é‡é—®é¢˜", factor: "èº¯ä½“åŒ–"},
            {id: 88, text: "ä»æœªæ„Ÿåˆ°å’Œå…¶ä»–äººå¾ˆäº²è¿‘", factor: "äººé™…å…³ç³»æ•æ„Ÿ"},
            {id: 89, text: "æ„Ÿåˆ°è‡ªå·±æœ‰ç½ª", factor: "ç²¾ç¥ç—…æ€§"},
            {id: 90, text: "æ„Ÿåˆ°è‡ªå·±çš„è„‘å­æœ‰æ¯›ç—…", factor: "ç²¾ç¥ç—…æ€§"}
        ];

        let currentQuestion = 0;
        let answers = new Array(90).fill(null);

        function startTest() {
            document.getElementById('intro-page').style.display = 'none';
            document.getElementById('test-page').style.display = 'block';
            renderQuestion();
        }

        function renderQuestion() {
            const q = questions[currentQuestion];
            const container = document.getElementById('question-container');
            
            const selectedValue = answers[currentQuestion];
            
            container.innerHTML = `
                <div class="question-card">
                    <div class="question-header">
                        <div class="question-number">${currentQuestion + 1}</div>
                        <div class="question-text">${q.text}</div>
                    </div>
                    <div class="options">
                        ${[
                            {value: 0, label: '0 ä»æ—  (æ²¡æœ‰æˆ–å¾ˆå°‘)'},
                            {value: 1, label: '1 è½»åº¦ (å¶å°”)'},
                            {value: 2, label: '2 ä¸­åº¦ (æœ‰æ—¶)'},
                            {value: 3, label: '3 è¾ƒé‡ (ç»å¸¸)'},
                            {value: 4, label: '4 ä¸¥é‡ (æŒç»­)'}
                        ].map(opt => `
                            <div class="option ${selectedValue === opt.value ? 'selected' : ''}" onclick="selectOption(${opt.value})">
                                <input type="radio" name="q${currentQuestion}" value="${opt.value}" ${selectedValue === opt.value ? 'checked' : ''}>
                                <span class="option-label">${opt.label}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;

            updateProgress();
            updateButtons();
        }

        function selectOption(value) {
            answers[currentQuestion] = value;
            renderQuestion();
            
            // å¦‚æœä¸æ˜¯æœ€åä¸€é¢˜,è‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€é¢˜(å»¶è¿Ÿ300ms,è®©ç”¨æˆ·çœ‹åˆ°é€‰ä¸­æ•ˆæœ)
            if (currentQuestion < 89) {
                setTimeout(() => {
                    currentQuestion++;
                    renderQuestion();
                }, 300);
            } else {
                // æœ€åä¸€é¢˜,æ˜¾ç¤º"æŸ¥çœ‹ç»“æœ"æŒ‰é’®
                updateButtons();
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / 90 * 100).toFixed(2);
            document.getElementById('progress-fill').style.width = progress + '%';
            document.getElementById('progress-text').textContent = `ç¬¬ ${currentQuestion + 1} / 90 é¢˜`;
        }

        function updateButtons() {
            document.getElementById('prev-btn').disabled = currentQuestion === 0;
            
            const submitContainer = document.getElementById('submit-container');
            const autoHint = document.getElementById('auto-hint');
            
            // åªæœ‰åœ¨æœ€åä¸€é¢˜ä¸”å·²ä½œç­”æ—¶æ‰æ˜¾ç¤º"æŸ¥çœ‹ç»“æœ"æŒ‰é’®
            if (currentQuestion === 89 && answers[89] !== null) {
                submitContainer.style.display = 'flex';
                autoHint.style.display = 'none';
            } else {
                submitContainer.style.display = 'none';
                if (currentQuestion < 89) {
                    autoHint.style.display = 'block';
                }
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                renderQuestion();
            }
        }

        function showResults() {
            // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰é¢˜ç›®éƒ½å·²å›ç­”
            const unanswered = answers.findIndex(a => a === null);
            if (unanswered !== -1) {
                alert(`è¿˜æœ‰ ${90 - answers.filter(a => a !== null).length} é¢˜æœªå›ç­”,è¯·å®Œæˆæ‰€æœ‰é¢˜ç›®`);
                currentQuestion = unanswered;
                renderQuestion();
                return;
            }

            // è®¡ç®—å„å› å­åˆ†æ•°
            const factorScores = calculateFactorScores();
            
            document.getElementById('test-page').style.display = 'none';
            document.getElementById('result-page').style.display = 'block';
            document.getElementById('result-page').innerHTML = generateResultHTML(factorScores);
        }

        function calculateFactorScores() {
            const factors = {
                'èº¯ä½“åŒ–': [1,4,12,27,40,42,48,49,52,53,56,58],
                'å¼ºè¿«ç—‡çŠ¶': [3,9,10,28,38,45,46,51,55,65],
                'äººé™…å…³ç³»æ•æ„Ÿ': [6,21,34,36,37,41,61,69,73],
                'æŠ‘éƒ': [5,14,15,20,22,26,29,30,31,32,54,71,79],
                'ç„¦è™‘': [2,17,23,33,39,57,72,78,80,86],
                'æ•Œå¯¹': [11,24,63,67,74,81],
                'ææ€–': [13,25,47,50,70,75,82],
                'åæ‰§': [8,18,43,68,76,83],
                'ç²¾ç¥ç—…æ€§': [7,16,35,62,77,84,85,88,89,90],
                'å…¶ä»–': [19,44,59,60,64,66,89]
            };

            const results = {};
            let totalScore = 0;
            let positiveItems = 0;

            for (const [factor, items] of Object.entries(factors)) {
                let sum = 0;
                items.forEach(item => {
                    const score = answers[item - 1];
                    sum += score;
                    totalScore += score;
                    if (score > 0) positiveItems++;
                });
                results[factor] = {
                    total: sum,
                    average: (sum / items.length).toFixed(2),
                    itemCount: items.length
                };
            }

            results['æ€»åˆ†'] = totalScore;
            results['é˜³æ€§é¡¹ç›®æ•°'] = positiveItems;
            results['æ€»å‡åˆ†'] = (totalScore / 90).toFixed(3);
            results['é˜³æ€§ç—‡çŠ¶å‡åˆ†'] = positiveItems > 0 ? (totalScore / positiveItems).toFixed(3) : '0.000';

            return results;
        }

        function getFactorStatus(avgScore) {
            if (avgScore < 2) return {status: 'normal', text: 'æ­£å¸¸', class: 'status-normal'};
            if (avgScore < 3) return {status: 'mild', text: 'è½»åº¦', class: 'status-mild'};
            if (avgScore < 4) return {status: 'moderate', text: 'ä¸­åº¦', class: 'status-moderate'};
            return {status: 'severe', text: 'è¾ƒé‡', class: 'status-severe'};
        }

        function getFactorDescription(factor, avgScore) {
            const descriptions = {
                'èº¯ä½“åŒ–': {
                    desc: 'èº¯ä½“åŒ–åæ˜ èº«ä½“ä¸é€‚æ„Ÿ,åŒ…æ‹¬å¿ƒè¡€ç®¡ã€èƒƒè‚ é“ã€å‘¼å¸ç³»ç»Ÿç­‰æ–¹é¢çš„ä¸é€‚,ä»¥åŠå¤´ç—›ã€èƒŒç—›ã€è‚Œè‚‰é…¸ç—›ç­‰ç—‡çŠ¶ã€‚è¿™äº›ç—‡çŠ¶å¾€å¾€ä¸æƒ…ç»ªå‹åŠ›ç›¸å…³ã€‚',
                    normal: 'æ‚¨çš„èº«ä½“çŠ¶å†µè‰¯å¥½,æ²¡æœ‰æ˜æ˜¾çš„èº¯ä½“ä¸é€‚æ„Ÿã€‚ç»§ç»­ä¿æŒè§„å¾‹ä½œæ¯å’Œé€‚åº¦è¿åŠ¨ã€‚',
                    mild: 'æ‚¨å¶å°”ä¼šæ„Ÿåˆ°èº«ä½“ä¸é€‚,å¯èƒ½ä¸å‹åŠ›æˆ–ç–²åŠ³æœ‰å…³ã€‚å»ºè®®:ä¿è¯å……è¶³ç¡çœ ,å­¦ä¹ æ”¾æ¾æŠ€å·§,é€‚åº¦è¿åŠ¨ç¼“è§£å‹åŠ›ã€‚',
                    moderate: 'æ‚¨ç»å¸¸æ„Ÿåˆ°èº«ä½“ä¸é€‚,è¿™å¯èƒ½æ˜¯æƒ…ç»ªå‹åŠ›çš„èº¯ä½“åŒ–è¡¨ç°ã€‚å»ºè®®:è¿›è¡Œå…¨é¢ä½“æ£€æ’é™¤å™¨è´¨æ€§ç–¾ç—…,å­¦ä¹ å‹åŠ›ç®¡ç†æŠ€å·§,è€ƒè™‘å¿ƒç†å’¨è¯¢ã€‚',
                    severe: 'æ‚¨çš„èº¯ä½“ä¸é€‚æ„Ÿè¾ƒä¸ºä¸¥é‡ã€‚å»ºè®®:å°½å¿«å°±åŒ»è¿›è¡Œå…¨é¢æ£€æŸ¥,åŒæ—¶å¯»æ±‚å¿ƒç†å’¨è¯¢,äº†è§£èº«å¿ƒçš„ç›¸äº’å½±å“,å­¦ä¹ æœ‰æ•ˆçš„åº”å¯¹ç­–ç•¥ã€‚'
                },
                'å¼ºè¿«ç—‡çŠ¶': {
                    desc: 'å¼ºè¿«ç—‡çŠ¶åŒ…æ‹¬å¼ºè¿«æ€ç»´å’Œå¼ºè¿«è¡Œä¸º,è¡¨ç°ä¸ºä¸å¿…è¦çš„ã€åå¤å‡ºç°çš„æƒ³æ³•æˆ–å†²åŠ¨,ä»¥åŠåå¤æ£€æŸ¥ã€æ¸…æ´—ç­‰è¡Œä¸ºã€‚è¿™äº›ç—‡çŠ¶ä¼šå½±å“æ—¥å¸¸ç”Ÿæ´»æ•ˆç‡ã€‚',
                    normal: 'æ‚¨æ²¡æœ‰æ˜æ˜¾çš„å¼ºè¿«æ€ç»´æˆ–è¡Œä¸º,å¿ƒç†çŠ¶æ€å¥åº·ã€‚ä¿æŒçµæ´»çš„æ€ç»´æ–¹å¼å’Œé€‚åº¦çš„è‡ªæˆ‘è¦æ±‚ã€‚',
                    mild: 'æ‚¨å¶å°”ä¼šæœ‰ä¸€äº›å¼ºè¿«æ€§çš„æƒ³æ³•æˆ–è¡Œä¸º,ä½†ä¸å½±å“æ­£å¸¸ç”Ÿæ´»ã€‚æ³¨æ„:ä¸è¦è¿‡åº¦è¿½æ±‚å®Œç¾,å­¦ä¼šæ¥çº³ä¸ç¡®å®šæ€§ã€‚',
                    moderate: 'æ‚¨æœ‰è¾ƒæ˜æ˜¾çš„å¼ºè¿«ç—‡çŠ¶,å¯èƒ½å½±å“ç”Ÿæ´»æ•ˆç‡ã€‚å»ºè®®:å­¦ä¹ è®¤çŸ¥è¡Œä¸ºæŠ€å·§,å°è¯•æš´éœ²ä¸ååº”é¢„é˜²è®­ç»ƒ,å¿…è¦æ—¶å¯»æ±‚ä¸“ä¸šå¿ƒç†å’¨è¯¢ã€‚',
                    severe: 'æ‚¨çš„å¼ºè¿«ç—‡çŠ¶è¾ƒä¸ºä¸¥é‡,æ˜¾è‘—å½±å“æ—¥å¸¸ç”Ÿæ´»ã€‚å»ºè®®:å°½å¿«å¯»æ±‚ä¸“ä¸šå¿ƒç†æ²»ç–—,è®¤çŸ¥è¡Œä¸ºç–—æ³•å¯¹å¼ºè¿«ç—‡çŠ¶æœ‰å¾ˆå¥½çš„æ•ˆæœ,å¿…è¦æ—¶å¯è€ƒè™‘è¯ç‰©æ²»ç–—ã€‚'
                },
                'äººé™…å…³ç³»æ•æ„Ÿ': {
                    desc: 'äººé™…å…³ç³»æ•æ„Ÿåæ˜ åœ¨äººé™…äº¤å¾€ä¸­çš„è‡ªå‘æ„Ÿå’Œä¸è‡ªåœ¨,ç‰¹åˆ«æ˜¯ä¸ä»–äººæ¯”è¾ƒæ—¶æ›´åŠ çªå‡ºã€‚åŒ…æ‹¬è‡ªå‘æ„Ÿã€å¿ƒç¥ä¸å®‰ã€æ˜æ˜¾çš„ä¸è‡ªåœ¨ä»¥åŠäººé™…äº¤æµä¸­çš„è‡ªæˆ‘æ€€ç–‘ã€‚',
                    normal: 'æ‚¨åœ¨äººé™…äº¤å¾€ä¸­æ„Ÿåˆ°è‡ªåœ¨,èƒ½å¤Ÿè‡ªä¿¡åœ°ä¸ä»–äººäº’åŠ¨ã€‚ç»§ç»­ä¿æŒçœŸè¯šã€å¼€æ”¾çš„äº¤å¾€æ€åº¦ã€‚',
                    mild: 'æ‚¨åœ¨äººé™…äº¤å¾€ä¸­å¶å°”ä¼šæ„Ÿåˆ°ä¸è‡ªåœ¨æˆ–è‡ªå‘ã€‚å»ºè®®:å¤šå‚ä¸ç¤¾äº¤æ´»åŠ¨,åŸ¹å…»è‡ªä¿¡,è®°ä½æ¯ä¸ªäººéƒ½æœ‰ç‹¬ç‰¹çš„ä»·å€¼ã€‚',
                    moderate: 'æ‚¨åœ¨äººé™…äº¤å¾€ä¸­ç»å¸¸æ„Ÿåˆ°ç´§å¼ å’Œè‡ªå‘ã€‚å»ºè®®:å‚åŠ ç¤¾äº¤æŠ€èƒ½è®­ç»ƒ,å­¦ä¹ æ­£å‘è‡ªæˆ‘å¯¹è¯,å°è¯•å°ç»„å’¨è¯¢æå‡äººé™…äº¤å¾€èƒ½åŠ›ã€‚',
                    severe: 'æ‚¨åœ¨äººé™…äº¤å¾€ä¸­æ„Ÿåˆ°ä¸¥é‡ä¸é€‚,å¯èƒ½å½±å“å·¥ä½œå’Œç”Ÿæ´»ã€‚å»ºè®®:å¯»æ±‚ä¸“ä¸šå¿ƒç†å’¨è¯¢,é€šè¿‡è®¤çŸ¥é‡å»ºæ”¹å–„è‡ªæˆ‘è®¤çŸ¥,é€æ­¥æå‡äººé™…äº¤å¾€ä¿¡å¿ƒã€‚'
                },
                'æŠ‘éƒ': {
                    desc: 'æŠ‘éƒä»¥è‹¦é—·çš„æƒ…æ„Ÿä¸å¿ƒå¢ƒä¸ºä»£è¡¨æ€§ç—‡çŠ¶,è¿˜åŒ…æ‹¬ç”Ÿæ´»å…´è¶£å‡é€€ã€åŠ¨åŠ›ç¼ºä¹ã€æ´»åŠ›ä¸§å¤±ç­‰ã€‚ä¸¥é‡æ—¶å¯èƒ½å‡ºç°å¤±æœ›ã€æ‚²è§‚ä»¥åŠä¸æŠ‘éƒç›¸å…³çš„è®¤çŸ¥å’Œèº¯ä½“æ„Ÿå—,ç”šè‡³æœ‰è‡ªæ€è§‚å¿µã€‚',
                    normal: 'æ‚¨çš„æƒ…ç»ªçŠ¶æ€è‰¯å¥½,å¯¹ç”Ÿæ´»å……æ»¡å…´è¶£å’Œæ´»åŠ›ã€‚ä¿æŒç§¯æä¹è§‚çš„ç”Ÿæ´»æ€åº¦,åŸ¹å…»å…´è¶£çˆ±å¥½ã€‚',
                    mild: 'æ‚¨å¶å°”ä¼šæ„Ÿåˆ°æƒ…ç»ªä½è½æˆ–ç¼ºä¹åŠ¨åŠ›ã€‚å»ºè®®:ä¿æŒè§„å¾‹ä½œæ¯,å¤šè¿›è¡Œæˆ·å¤–æ´»åŠ¨,ä¸äº²å‹ä¿æŒè”ç³»,åŸ¹å…»å¸¦æ¥å¿«ä¹çš„çˆ±å¥½ã€‚',
                    moderate: 'æ‚¨æœ‰è¾ƒæ˜æ˜¾çš„æŠ‘éƒæƒ…ç»ª,ç”Ÿæ´»è´¨é‡å—åˆ°å½±å“ã€‚å»ºè®®:å°½å¿«å¯»æ±‚å¿ƒç†å’¨è¯¢,å­¦ä¹ æƒ…ç»ªç®¡ç†æŠ€å·§,ä¿æŒç¤¾äº¤è”ç³»,å¿…è¦æ—¶å¯è€ƒè™‘è¯ç‰©æ²»ç–—ã€‚',
                    severe: 'æ‚¨çš„æŠ‘éƒç—‡çŠ¶è¾ƒä¸ºä¸¥é‡,è¯·åŠ¡å¿…é‡è§†ã€‚å»ºè®®:ç«‹å³å¯»æ±‚ä¸“ä¸šå¸®åŠ©,æŠ‘éƒç—‡æ˜¯å¯ä»¥æ²»ç–—çš„,è¯ç‰©å’Œå¿ƒç†æ²»ç–—ç»“åˆæ•ˆæœæœ€å¥½ã€‚å¦‚æœ‰è‡ªæ€å¿µå¤´,è¯·ç«‹å³è”ç³»å±æœºå¹²é¢„çƒ­çº¿æˆ–å°±åŒ»ã€‚'
                },
                'ç„¦è™‘': {
                    desc: 'ç„¦è™‘ç—‡çŠ¶åŒ…æ‹¬é‚£äº›çƒ¦èºã€åç«‹ä¸å®‰ã€ç¥ç»è¿‡æ•ã€ç´§å¼ ä»¥åŠç”±æ­¤äº§ç”Ÿçš„èº¯ä½“å¾è±¡,å¦‚éœ‡é¢¤ç­‰ã€‚è¿˜åŒ…æ‹¬æ¸¸ç¦»çš„ç„¦è™‘åŠæƒŠæå‘ä½œçš„ä½“éªŒã€‚',
                    normal: 'æ‚¨æ²¡æœ‰æ˜æ˜¾çš„ç„¦è™‘ç—‡çŠ¶,å¿ƒç†çŠ¶æ€å¹³å’Œã€‚ä¿æŒå¹³è¡¡çš„ç”Ÿæ´»èŠ‚å¥,é€‚åº¦åº”å¯¹å‹åŠ›ã€‚',
                    mild: 'æ‚¨å¶å°”ä¼šæ„Ÿåˆ°ç„¦è™‘æˆ–ç´§å¼ ã€‚å»ºè®®:å­¦ä¹ æ·±å‘¼å¸å’Œæ”¾æ¾è®­ç»ƒ,é€‚åº¦è¿åŠ¨,ä¿è¯å……è¶³ç¡çœ ,é¿å…è¿‡é‡å’–å•¡å› æ‘„å…¥ã€‚',
                    moderate: 'æ‚¨ç»å¸¸æ„Ÿåˆ°ç„¦è™‘,å¯èƒ½å½±å“æ—¥å¸¸ç”Ÿæ´»ã€‚å»ºè®®:å­¦ä¹ ç„¦è™‘ç®¡ç†æŠ€å·§,å¦‚æ¸è¿›æ€§è‚Œè‚‰æ”¾æ¾ã€æ­£å¿µå†¥æƒ³,è€ƒè™‘å¯»æ±‚å¿ƒç†å’¨è¯¢ã€‚',
                    severe: 'æ‚¨çš„ç„¦è™‘ç—‡çŠ¶è¾ƒä¸ºä¸¥é‡,å¯èƒ½ä¼´æœ‰æƒŠæå‘ä½œã€‚å»ºè®®:å°½å¿«å¯»æ±‚ä¸“ä¸šæ²»ç–—,è®¤çŸ¥è¡Œä¸ºç–—æ³•å¯¹ç„¦è™‘ç—‡å¾ˆæœ‰æ•ˆ,å¿…è¦æ—¶å¯é…åˆæŠ—ç„¦è™‘è¯ç‰©ã€‚'
                },
                'æ•Œå¯¹': {
                    desc: 'æ•Œå¯¹ä¸»è¦ä»æ€æƒ³ã€æ„Ÿæƒ…åŠè¡Œä¸ºä¸‰æ–¹é¢æ¥åæ˜ æ•Œå¯¹çš„è¡¨ç°ã€‚åŒ…æ‹¬åŒçƒ¦çš„æ„Ÿè§‰ã€æ‘”ç‰©ã€äº‰è®ºç›´åˆ°ä¸å¯æ§åˆ¶çš„è„¾æ°”æš´å‘ç­‰å„ä¸ªæ–¹é¢ã€‚',
                    normal: 'æ‚¨èƒ½å¤Ÿæ¸©å’Œå¾…äºº,æƒ…ç»ªæ§åˆ¶è‰¯å¥½ã€‚ä¿æŒå¹³å’Œçš„å¿ƒæ€,ç”¨å»ºè®¾æ€§æ–¹å¼å¤„ç†å†²çªã€‚',
                    mild: 'æ‚¨å¶å°”ä¼šæœ‰æ•Œå¯¹æƒ…ç»ªæˆ–å†²åŠ¨ã€‚å»ºè®®:å­¦ä¹ æƒ…ç»ªç®¡ç†,åœ¨å‘æ€’å‰æ·±å‘¼å¸,å°è¯•æ¢ä½æ€è€ƒ,ç”¨"æˆ‘"é™ˆè¿°è¡¨è¾¾æ„Ÿå—ã€‚',
                    moderate: 'æ‚¨è¾ƒå®¹æ˜“äº§ç”Ÿæ•Œå¯¹æƒ…ç»ª,å¯èƒ½å½±å“äººé™…å…³ç³»ã€‚å»ºè®®:å‚åŠ æƒ…ç»ªç®¡ç†è®­ç»ƒ,å­¦ä¹ å†²çªè§£å†³æŠ€å·§,æ¢ç´¢æ„¤æ€’èƒŒåçš„çœŸå®éœ€æ±‚ã€‚',
                    severe: 'æ‚¨çš„æ•Œå¯¹æƒ…ç»ªè¾ƒä¸ºä¸¥é‡,å¯èƒ½å¯¼è‡´å†²çªã€‚å»ºè®®:å°½å¿«å¯»æ±‚å¿ƒç†å’¨è¯¢,å­¦ä¹ æ„¤æ€’ç®¡ç†æŠ€å·§,æ¢ç´¢æƒ…ç»ªæ ¹æº,é¿å…å› å†²åŠ¨é€ æˆä¸è‰¯åæœã€‚'
                },
                'ææ€–': {
                    desc: 'ææ€–çš„å¯¹è±¡åŒ…æ‹¬å‡ºé—¨æ—…è¡Œã€ç©ºæ—·åœºåœ°ã€äººç¾¤æˆ–å…¬å…±åœºæ‰€å’Œäº¤é€šå·¥å…·ã€‚æ­¤å¤–,è¿˜æœ‰ç¤¾äº¤ææ€–ã€‚å¯¹ç‰¹å®šåœºæ‰€æˆ–ç‰©ä½“çš„éç†æ€§ææƒ§å’Œå›é¿è¡Œä¸ºã€‚',
                    normal: 'æ‚¨æ²¡æœ‰æ˜æ˜¾çš„ææƒ§å¿ƒç†,èƒ½å¤Ÿæ­£å¸¸è¿›è¡Œå„ç§æ´»åŠ¨ã€‚ä¿æŒå¼€æ”¾å¿ƒæ€,å‹‡äºå°è¯•æ–°äº‹ç‰©ã€‚',
                    mild: 'æ‚¨å¶å°”ä¼šå¯¹æŸäº›åœºæ‰€æˆ–æƒ…å¢ƒæ„Ÿåˆ°ä¸é€‚ã€‚å»ºè®®:é€æ­¥æ¥è§¦ä»¤æ‚¨ä¸å®‰çš„æƒ…å¢ƒ,ä¸è¦è¿‡åº¦å›é¿,é€‚åº¦æŒ‘æˆ˜è‡ªå·±çš„èˆ’é€‚åŒºã€‚',
                    moderate: 'æ‚¨æœ‰è¾ƒæ˜æ˜¾çš„ææƒ§ç—‡çŠ¶,å¯èƒ½å½±å“ç¤¾äº¤æˆ–å‡ºè¡Œã€‚å»ºè®®:å­¦ä¹ ç³»ç»Ÿè„±æ•æŠ€å·§,å¯»æ±‚è®¤çŸ¥è¡Œä¸ºæ²»ç–—,é€æ­¥æš´éœ²äºææƒ§æƒ…å¢ƒä¸­ã€‚',
                    severe: 'æ‚¨çš„ææƒ§ç—‡çŠ¶ä¸¥é‡,æ˜¾è‘—é™åˆ¶äº†æ­£å¸¸æ´»åŠ¨ã€‚å»ºè®®:å°½å¿«å¯»æ±‚ä¸“ä¸šå¿ƒç†æ²»ç–—,æš´éœ²ç–—æ³•å’Œè®¤çŸ¥é‡æ„å¯¹ææƒ§ç—‡å¾ˆæœ‰æ•ˆã€‚'
                },
                'åæ‰§': {
                    desc: 'åæ‰§ä¸»è¦æŒ‡æŠ•å°„æ€§æ€ç»´ã€æ•Œå¯¹ã€çŒœç–‘ã€å¦„æƒ³ã€è¢«æ§åˆ¶æ„Ÿã€å¤¸å¤§ç­‰ã€‚ä»£è¡¨åæ‰§æ€§çš„æ€ç»´æ–¹å¼,å³é™å®šä¸ä¸¥çš„ç²¾ç¥ç—…æ€§è¿‡ç¨‹çš„ç—‡çŠ¶è¡¨ç°ã€‚',
                    normal: 'æ‚¨çš„æ€ç»´æ–¹å¼å¥åº·,èƒ½å¤Ÿå®¢è§‚çœ‹å¾…ä»–äººå’Œäº‹ç‰©ã€‚ä¿æŒå¼€æ”¾å¿ƒæ€,ç†æ€§æ€è€ƒã€‚',
                    mild: 'æ‚¨å¶å°”ä¼šæœ‰äº›å¤šç–‘çš„æƒ³æ³•ã€‚å»ºè®®:å°è¯•å®¢è§‚éªŒè¯æƒ³æ³•,ä¸è¦è½»æ˜“ä¸‹ç»“è®º,å¤šä¸ä¿¡ä»»çš„äººæ²Ÿé€šäº¤æµã€‚',
                    moderate: 'æ‚¨è¾ƒå®¹æ˜“äº§ç”Ÿå¤šç–‘æˆ–åæ‰§çš„æƒ³æ³•ã€‚å»ºè®®:å­¦ä¹ ç°å®æ£€éªŒæŠ€å·§,å¯»æ±‚å¿ƒç†å’¨è¯¢,é€šè¿‡è®¤çŸ¥æ²»ç–—æ”¹å–„æ€ç»´æ¨¡å¼ã€‚',
                    severe: 'æ‚¨æœ‰è¾ƒæ˜æ˜¾çš„åæ‰§æ€ç»´,å¯èƒ½å½±å“äººé™…å…³ç³»å’Œç”Ÿæ´»ã€‚å»ºè®®:å°½å¿«å¯»æ±‚ä¸“ä¸šè¯„ä¼°å’Œæ²»ç–—,å¿…è¦æ—¶å¯èƒ½éœ€è¦è¯ç‰©å¹²é¢„ã€‚'
                },
                'ç²¾ç¥ç—…æ€§': {
                    desc: 'ç²¾ç¥ç—…æ€§åæ˜ å„å¼å„æ ·æ€¥æ€§ç—‡çŠ¶å’Œè¡Œä¸º,å³é™å®šä¸ä¸¥çš„ç²¾ç¥ç—…æ€§è¿‡ç¨‹çš„ç—‡çŠ¶è¡¨ç°ã€‚åŒ…æ‹¬å¹»å¬ã€æ€ç»´æ’­æ•£ã€è¢«æ§åˆ¶æ„Ÿã€æ€ç»´è¢«æ’å…¥ç­‰å…¸å‹çš„ç²¾ç¥åˆ†è£‚ç—‡çŠ¶é¡¹ç›®ã€‚',
                    normal: 'æ‚¨æ²¡æœ‰ç²¾ç¥ç—…æ€§ç—‡çŠ¶,æ€ç»´æ¸…æ™°æ­£å¸¸ã€‚ä¿æŒç†æ€§æ€ç»´,å…³æ³¨ç°å®ã€‚',
                    mild: 'æ‚¨å¶å°”ä¼šæœ‰äº›å¥‡æ€ªçš„æƒ³æ³•æˆ–ä½“éªŒã€‚å»ºè®®:ä¿æŒå……è¶³ç¡çœ ,å‡å°‘å‹åŠ›,å¦‚ç—‡çŠ¶æŒç»­æˆ–åŠ é‡,è¯·åŠæ—¶å°±åŒ»ã€‚',
                    moderate: 'æ‚¨æœ‰ä¸€äº›ç²¾ç¥ç—…æ€§ç—‡çŠ¶è¡¨ç°ã€‚å»ºè®®:å°½å¿«å¯»æ±‚ç²¾ç¥ç§‘åŒ»ç”Ÿè¯„ä¼°,è¿™äº›ç—‡çŠ¶å¯èƒ½éœ€è¦ä¸“ä¸šæ²»ç–—ã€‚',
                    severe: 'æ‚¨æœ‰è¾ƒæ˜æ˜¾çš„ç²¾ç¥ç—…æ€§ç—‡çŠ¶ã€‚å»ºè®®:ç«‹å³å°±åŒ»è¿›è¡Œä¸“ä¸šè¯„ä¼°,è¿™äº›ç—‡çŠ¶é€šå¸¸éœ€è¦è¯ç‰©æ²»ç–—é…åˆå¿ƒç†å¹²é¢„ã€‚'
                },
                'å…¶ä»–': {
                    desc: 'å…¶ä»–ç—‡çŠ¶ä¸»è¦åŒ…æ‹¬ç¡çœ å’Œé¥®é£Ÿé—®é¢˜ã€‚ç¡çœ ä¸é¥®é£Ÿé—®é¢˜å¸¸ä¸æƒ…ç»ªéšœç¢ç›¸ä¼´,éœ€ç»“åˆæ•´ä½“ä¸´åºŠè¡¨ç°è¯„ä¼°ã€‚',
                    normal: 'æ‚¨çš„ç¡çœ å’Œé¥®é£ŸçŠ¶å†µè‰¯å¥½ã€‚ä¿æŒè§„å¾‹çš„ä½œæ¯å’Œå¥åº·çš„é¥®é£Ÿä¹ æƒ¯ã€‚',
                    mild: 'æ‚¨å¶å°”æœ‰ç¡çœ æˆ–é¥®é£Ÿé—®é¢˜ã€‚å»ºè®®:å»ºç«‹è§„å¾‹ä½œæ¯,ç¡å‰é¿å…ä½¿ç”¨ç”µå­è®¾å¤‡,ä¿æŒå‡è¡¡é¥®é£Ÿã€‚',
                    moderate: 'æ‚¨ç»å¸¸æœ‰ç¡çœ æˆ–é¥®é£Ÿé—®é¢˜ã€‚å»ºè®®:æ”¹å–„ç¡çœ å«ç”Ÿ,å¿…è¦æ—¶å¯»æ±‚ç¡çœ ä¸“ç§‘å¸®åŠ©,å…³æ³¨æƒ…ç»ªä¸é¥®é£Ÿçš„å…³ç³»ã€‚',
                    severe: 'æ‚¨çš„ç¡çœ æˆ–é¥®é£Ÿé—®é¢˜è¾ƒä¸ºä¸¥é‡ã€‚å»ºè®®:å°½å¿«å°±åŒ»è¯„ä¼°,è¿™äº›é—®é¢˜å¯èƒ½æ˜¯æƒ…ç»ªéšœç¢çš„è¡¨ç°,éœ€è¦ç»¼åˆæ²»ç–—ã€‚'
                }
            };

            const factorInfo = descriptions[factor];
            if (!factorInfo) return '';

            const status = getFactorStatus(avgScore);
            return {
                description: factorInfo.desc,
                suggestion: factorInfo[status.status] || factorInfo.normal
            };
        }

        function generateResultHTML(scores) {
            const totalScore = scores['æ€»åˆ†'];
            const positiveItems = scores['é˜³æ€§é¡¹ç›®æ•°'];
            const avgScore = parseFloat(scores['æ€»å‡åˆ†']);
            
            let overallStatus = 'å¿ƒç†å¥åº·';
            let overallSuggestion = 'æ‚¨çš„å¿ƒç†å¥åº·çŠ¶å†µè‰¯å¥½,å„é¡¹æŒ‡æ ‡å‡åœ¨æ­£å¸¸èŒƒå›´å†…ã€‚å»ºè®®ç»§ç»­ä¿æŒè‰¯å¥½çš„ç”Ÿæ´»æ–¹å¼,åŒ…æ‹¬å……è¶³ç¡çœ ã€è§„å¾‹è¿åŠ¨å’Œç¤¾äº¤æ”¯æŒã€‚';
            let needAttention = false;

            if (totalScore > 160 || positiveItems > 43) {
                overallStatus = 'éœ€è¦å…³æ³¨';
                needAttention = true;
                overallSuggestion = 'æ‚¨çš„æ€»åˆ†è¾ƒé«˜,å»ºè®®è¿›ä¸€æ­¥è¯„ä¼°ã€‚è¿™å¯èƒ½è¡¨ç¤ºæ‚¨æ­£ç»å†è¾ƒå¤§çš„å¿ƒç†å‹åŠ›,å»ºè®®å¯»æ±‚ä¸“ä¸šå¿ƒç†å’¨è¯¢æˆ–åŒ»ç–—å¸®åŠ©ã€‚';
            } else if (avgScore >= 2) {
                overallStatus = 'è½»åº¦ç—‡çŠ¶';
                overallSuggestion = 'æ‚¨æœ‰ä¸€äº›è½»åº¦çš„å¿ƒç†ç—‡çŠ¶ã€‚å»ºè®®å…³æ³¨è‡ªå·±çš„æƒ…ç»ªçŠ¶æ€,å­¦ä¹ å‹åŠ›ç®¡ç†æŠ€å·§,å¿…è¦æ—¶å¯ä»¥å¯»æ±‚å¿ƒç†å’¨è¯¢æ”¯æŒã€‚';
            }

            const factorNames = ['èº¯ä½“åŒ–', 'å¼ºè¿«ç—‡çŠ¶', 'äººé™…å…³ç³»æ•æ„Ÿ', 'æŠ‘éƒ', 'ç„¦è™‘', 'æ•Œå¯¹', 'ææ€–', 'åæ‰§', 'ç²¾ç¥ç—…æ€§', 'å…¶ä»–'];
            
            let factorsHTML = '';
            factorNames.forEach(factor => {
                const score = scores[factor];
                const avg = parseFloat(score.average);
                const status = getFactorStatus(avg);
                const info = getFactorDescription(factor, avg);
                
                factorsHTML += `
                    <div class="factor-result">
                        <div class="factor-header">
                            <div class="factor-name">${factor}</div>
                            <div class="factor-score ${status.class}">${status.text}</div>
                        </div>
                        <div class="factor-description">
                            <strong>å› å­è¯´æ˜:</strong> ${info.description}
                        </div>
                        <div style="color: #666; font-size: 14px; margin: 8px 0;">
                            å¾—åˆ†: ${score.total} åˆ† | å‡åˆ†: ${score.average} | é¢˜ç›®æ•°: ${score.itemCount}
                        </div>
                        <div class="factor-suggestion">
                            <strong>ğŸ’¡ ä¸ªæ€§åŒ–å»ºè®®</strong>
                            <p>${info.suggestion}</p>
                        </div>
                    </div>
                `;
            });

            let warningHTML = '';
            if (needAttention) {
                warningHTML = `
                    <div class="warning-box">
                        <h4>âš ï¸ é‡è¦æç¤º - è¯·ç«‹å³å…³æ³¨</h4>
                        <p style="margin-bottom: 12px;">æ ¹æ®æ‚¨çš„æµ‹è¯„ç»“æœ,å»ºè®®æ‚¨å°½å¿«é‡‡å–ä»¥ä¸‹è¡ŒåŠ¨:</p>
                        <ul>
                            <li><strong>å¦‚æœæ‚¨æœ‰è‡ªä¼¤æˆ–è‡ªæ€å¿µå¤´</strong>,è¯·ç«‹å³æ‹¨æ‰“å±æœºå¹²é¢„çƒ­çº¿(400-161-9995)æˆ–å‰å¾€æœ€è¿‘çš„åŒ»é™¢æ€¥è¯Š</li>
                            <li><strong>å¦‚æœç—‡çŠ¶ä¸¥é‡å½±å“æ—¥å¸¸ç”Ÿæ´»</strong>,è¯·åŠæ—¶å°±è¯Šç²¾ç¥ç§‘æˆ–å¿ƒç†ç§‘,è¿›è¡Œä¸“ä¸šè¯„ä¼°</li>
                            <li><strong>å¦‚æœéœ€è¦å¿ƒç†æ”¯æŒ</strong>,å¯ä»¥é¢„çº¦ä¸“ä¸šå¿ƒç†å’¨è¯¢å¸ˆè¿›è¡Œæ·±å…¥å’¨è¯¢</li>
                            <li><strong>ä¸ä¿¡ä»»çš„äººåˆ†äº«</strong>æ‚¨çš„æ„Ÿå—,ä¸è¦ç‹¬è‡ªæ‰¿å—</li>
                        </ul>
                    </div>
                `;
            }

            return `
                <div class="result-section">
                    <div class="result-header">
                        <h2>ğŸ“Š æ‚¨çš„æµ‹è¯„ç»“æœ</h2>
                        <p>ä»¥ä¸‹æ˜¯åŸºäºæ‚¨çš„å›ç­”ç”Ÿæˆçš„è¯¦ç»†åˆ†ææŠ¥å‘Š</p>
                    </div>

                    <div class="score-summary">
                        <h3>æ€»ä½“è¯„ä¼°: ${overallStatus}</h3>
                        <p style="margin: 15px 0; opacity: 0.95;">${overallSuggestion}</p>
                        <div class="score-grid">
                            <div class="score-item">
                                <label>æ€»åˆ†</label>
                                <value>${totalScore}</value>
                            </div>
                            <div class="score-item">
                                <label>é˜³æ€§é¡¹ç›®æ•°</label>
                                <value>${positiveItems}</value>
                            </div>
                            <div class="score-item">
                                <label>æ€»å‡åˆ†</label>
                                <value>${scores['æ€»å‡åˆ†']}</value>
                            </div>
                            <div class="score-item">
                                <label>é˜³æ€§ç—‡çŠ¶å‡åˆ†</label>
                                <value>${scores['é˜³æ€§ç—‡çŠ¶å‡åˆ†']}</value>
                            </div>
                        </div>
                    </div>

                    ${warningHTML}

                    <div style="margin-top: 40px;">
                        <h3 style="color: #2c3e50; margin-bottom: 20px; font-size: 20px;">ğŸ“‹ å„å› å­è¯¦ç»†åˆ†æ</h3>
                        <div style="background: #f8f9ff; padding: 15px; border-radius: 8px; margin-bottom: 20px; font-size: 14px; color: #666;">
                            <strong>è¯„åˆ†æ ‡å‡†:</strong> å‡åˆ† < 2 ä¸ºæ­£å¸¸,2-3 ä¸ºè½»åº¦,3-4 ä¸ºä¸­åº¦,â‰¥ 4 ä¸ºè¾ƒé‡
                        </div>
                        ${factorsHTML}
                    </div>

                    <div class="disclaimer">
                        <p><strong>ğŸ“¢ é‡è¦å£°æ˜</strong></p>
                        <p style="margin-top: 10px;">æœ¬æµ‹è¯„ç»“æœä»…ä¾›å¿ƒç†å¥åº·ç­›æŸ¥å‚è€ƒ,ä¸èƒ½æ›¿ä»£ä¸“ä¸šçš„ä¸´åºŠè¯Šæ–­ã€‚å¦‚æœæ‚¨æœ‰ä»»ä½•å¿ƒç†å¥åº·æ–¹é¢çš„å›°æ‰°,è¯·åŠæ—¶å¯»æ±‚ä¸“ä¸šå¿ƒç†å’¨è¯¢å¸ˆæˆ–ç²¾ç¥ç§‘åŒ»ç”Ÿçš„å¸®åŠ©ã€‚æ¯ä¸ªäººéƒ½å€¼å¾—è¢«å…³å¿ƒå’Œæ”¯æŒ,å¯»æ±‚å¸®åŠ©æ˜¯å‹‡æ•¢å’Œæ˜æ™ºçš„é€‰æ‹©ã€‚</p>
                    </div>

                    <button class="btn btn-primary restart-btn" onclick="location.reload()">
                        é‡æ–°æµ‹è¯„
                    </button>
                </div>
            `;
        }
    </script>
</body>
</html>